{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// functions for HTTP\n\nexport function getImages(value) {\n  const mainLink = 'https://pixabay.com/api/';\n  const myKey = '44735338-079c6790302f7dc185545e42d';\n  const params = new URLSearchParams({\n    key: myKey,\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const URL = `${mainLink}?${params}`;\n  return fetch(URL)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error(res.status);\n      } else {\n        return res.json();\n      }\n    })\n    .catch(err => `Error in FETCH: ${err}`);\n}\n","// function for update HTML by js\n\n\nexport function cardTemplate({\n  largeImageURL,\n  webformatURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `\n    <li>\n    <a href=\"${largeImageURL}\" class='js-link'> \n      <img src=\"${webformatURL}\" alt=\"${tags}\"> \n    </a>\n      <div class=\"'params\">\n      <div><h3>Likes</h3><p>${likes}</p></div>\n      <div><h3>Views</h3><p>${views}</p></div>\n      <div><h3>Comments</h3><p>${comments}</p></div>\n      <div><h3>Downloads</h3><p>${downloads}</p></div>\n      </div>\n      </li>\n      `;\n}\n\nexport function cardsTemplate(cards) {\n  return cards.map(cardTemplate).join('');\n}\n","//! All logic for Web-Site\n\nimport { getImages } from './js/pixabay-api';\nimport { cardTemplate } from './js/render-functions';\nimport { cardsTemplate } from './js/render-functions';\n\n//* Library\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  form: document.querySelector('.search-form'),\n  input: document.querySelector('input'),\n  list: document.querySelector('.gallery'),\n  load: document.querySelector('.loader'),\n};\n\nconst lightbox = new SimpleLightbox('.gallery a ', {\n  captionDelay: 250,\n  captionsData: 'alt',\n});\n\nrefs.form.addEventListener('submit', btnEvent);\n\nfunction btnEvent(e) {\n  e.preventDefault();\n  const userValue = refs.input.value.trim();\n  if (userValue.length !== 0 && userValue !== '') {\n    refs.load.classList.remove('hidden');\n    getImages(userValue)\n      .then(data => {\n        if (data.total === 0) {\n          refs.load.classList.add('hidden');\n          refs.input.value = '';\n          refs.list.textContent = '';\n          iziToast.show({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            backgroundColor: '#EF4040',\n            messageColor: 'white',\n            position: 'topRight',\n            class: 'error',\n          });\n        } else {\n          const markUp = cardsTemplate(data.hits);\n          refs.list.innerHTML = markUp;\n\n          lightbox.refresh();\n\n          refs.load.classList.add('hidden');\n\n          refs.input.value = '';\n        }\n      })\n      .catch(err => console.error(err));\n  }\n}\n"],"names":["getImages","value","mainLink","myKey","params","URL","res","err","cardTemplate","largeImageURL","webformatURL","tags","likes","views","comments","downloads","cardsTemplate","cards","refs","lightbox","SimpleLightbox","btnEvent","e","userValue","data","iziToast","markUp"],"mappings":"6vBAEO,SAASA,EAAUC,EAAO,CAC/B,MAAMC,EAAW,2BACXC,EAAQ,qCACRC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,IAAIE,CAAM,GACjC,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAO,CACX,GAAKA,EAAI,GAGP,OAAOA,EAAI,OAFX,MAAM,IAAI,MAAMA,EAAI,MAAM,CAIlC,CAAK,EACA,MAAMC,GAAO,mBAAmBA,CAAG,EAAE,CAC1C,CCnBO,SAASC,EAAa,CAC3B,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA;AAAA,eAEMN,CAAa;AAAA,kBACVC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,8BAGdC,CAAK;AAAA,8BACLC,CAAK;AAAA,iCACFC,CAAQ;AAAA,kCACPC,CAAS;AAAA;AAAA;AAAA,OAI3C,CAEO,SAASC,EAAcC,EAAO,CACnC,OAAOA,EAAM,IAAIT,CAAY,EAAE,KAAK,EAAE,CACxC,CC7BA;AAYA,MAAMU,EAAO,CACX,KAAM,SAAS,cAAc,cAAc,EAC3C,MAAO,SAAS,cAAc,OAAO,EACrC,KAAM,SAAS,cAAc,UAAU,EACvC,KAAM,SAAS,cAAc,SAAS,CACxC,EAEMC,EAAW,IAAIC,EAAe,cAAe,CACjD,aAAc,IACd,aAAc,KAChB,CAAC,EAEDF,EAAK,KAAK,iBAAiB,SAAUG,CAAQ,EAE7C,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAChB,MAAMC,EAAYL,EAAK,MAAM,MAAM,KAAI,EACnCK,EAAU,SAAW,GAAKA,IAAc,KAC1CL,EAAK,KAAK,UAAU,OAAO,QAAQ,EACnClB,EAAUuB,CAAS,EAChB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,QAAU,EACjBN,EAAK,KAAK,UAAU,IAAI,QAAQ,EAChCA,EAAK,MAAM,MAAQ,GACnBA,EAAK,KAAK,YAAc,GACxBO,EAAS,KAAK,CACZ,QACE,2EACF,gBAAiB,UACjB,aAAc,QACd,SAAU,WACV,MAAO,OACnB,CAAW,MACI,CACL,MAAMC,EAASV,EAAcQ,EAAK,IAAI,EACtCN,EAAK,KAAK,UAAYQ,EAEtBP,EAAS,QAAO,EAEhBD,EAAK,KAAK,UAAU,IAAI,QAAQ,EAEhCA,EAAK,MAAM,MAAQ,EACpB,CACT,CAAO,EACA,MAAMX,GAAO,QAAQ,MAAMA,CAAG,CAAC,EAEtC"}